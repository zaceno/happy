!function t(e,n,o){function r(a,i){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!i&&c)return c(a,!0);if(s)return s(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){!function(t,o){"object"==typeof n&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o(t.picodom=t.picodom||{})}(this,function(t){"use strict";function e(t,n,r,c){if(null==r)n=t.insertBefore(o(c),n);else if(c.tag&&c.tag===r.tag){s(n,r.data,c.data);for(var p=c.children.length,l=r.children.length,u={},d=[],h={},m=0;m<l;m++)f=n.childNodes[m],d[m]=f,null!=(k=a(g=r.children[m]))&&(u[k]=[f,g]);for(var m=0,v=0;v<p;){var f=d[m],g=r.children[m],x=c.children[v];if(h[k=a(g)])m++;else{var y=a(x),w=u[y]||[];null==y?(null==k&&(e(n,f,g,x),v++),m++):(k===y?(e(n,w[0],w[1],x),m++):w[0]?(n.insertBefore(w[0],f),e(n,w[0],w[1],x)):e(n,f,null,x),v++,h[y]=x)}}for(;m<l;){var k=a(g=r.children[m]);null==k&&i(n,d[m],g),m++}for(var m in u){var b=(w=u[m])[1];h[b.data.key]||i(n,w[0],b)}}else c!==r&&(m=n,t.replaceChild(n=o(c),m));return n}function n(t,e){var n={};if("object"!=typeof e||Array.isArray(e))return e;for(var o in t)n[o]=t[o];for(var o in e)n[o]=e[o];return n}function o(t,e){if("string"==typeof t)n=document.createTextNode(t);else{for(var n=(e=e||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag),s=0;s<t.children.length;)n.appendChild(o(t.children[s++],e));for(var s in t.data)"oncreate"===s?t.data[s](n):r(n,s,t.data[s])}return n}function r(t,e,o,r){if("key"===e);else if("style"===e)for(var s in n(r,o=o||{}))t.style[s]=o[s]||"";else{try{t[e]=o}catch(t){}"function"!=typeof o&&(o?t.setAttribute(e,o):t.removeAttribute(e))}}function s(t,e,o){for(var s in n(e,o)){var a=o[s],i="value"===s||"checked"===s?t[s]:e[s];"onupdate"===s?a(t):a!==i&&r(t,s,a,i)}}function a(t){if(t&&(t=t.data))return t.key}function i(t,e,n){function o(){t.removeChild(e)}(n.data&&n.data.onremove||o)(e,o)}t.h=function(t,e){for(var n,o=[],r=[],s=arguments.length;s-- >2;)o[o.length]=arguments[s];for(;o.length;)if(Array.isArray(n=o.pop()))for(s=n.length;s--;)o[o.length]=n[s];else null!=n&&!0!==n&&!1!==n&&("number"==typeof n&&(n+=""),r[r.length]=n);return"string"==typeof t?{tag:t,data:e||{},children:r}:t(e,r)},t.patch=e})},{}],2:[function(t,e,n){function o(t,e,n,o){const r=p(e,n,o);t.onupdate(r),r()}function r(t,e,n,r,s){const a=e(t);o(t,t=>n(a),r,s)}function s(t,e,n,o,s){r(new l(t),e,n,o,s)}function a(t,e,n,o){s(t,u(t)?h:d,({get:t,set:n})=>e(t(),n),n,o)}const{h:i,render:c,renderer:p}=t("../dom"),l=t("../store"),u=t=>"[object Object]"===Object.prototype.toString.call(t),d=t=>({get:t.getter(t=>t),set:t.setter((t,e)=>e)}),h=t=>({get:t.getter(t=>t),set:t.setter((t,e)=>Object.assign(t,e))});e.exports=(({state:t,store:e,init:n,view:i,container:p,el:l})=>{if(i=i||(t=>""),void 0!==t){if(n)return s(t,n,i,p,l);if(!n)return a(t,i,p,l)}if(e){if(n)return r(e,n,i,p,l);if(!n)return o(e,i,p,l)}c(i(),p,l)})},{"../dom":4,"../store":8}],3:[function(t,e,n){const{h:o}=t("picodom");e.exports=o},{picodom:1}],4:[function(t,e,n){const o=t("./h"),r=t("./render"),s=t("./renderer");e.exports={h:o,render:r,renderer:s}},{"./h":3,"./render":5,"./renderer":6}],5:[function(t,e,n){const{h:o,patch:r}=t("picodom");e.exports=((t,e,n,o)=>(e=e||document.body,[e,r(e,n,o,t),t]))},{picodom:1}],6:[function(t,e,n){const o=t("./render");e.exports=((t,e,n)=>{var r=[e,n];return e=>r=o(t(),...r)})},{"./render":5}],7:[function(t,e,n){class o{constructor(){this.listeners=[]}on(t){this.listeners.push(t)}off(t){const e=this.listeners.indexOf(t);this.listeners.splice(e,1)}trigger(t){this.listeners.forEach(e=>e(t))}}e.exports=o},{}],8:[function(t,e,n){const o=t("./Event"),r=t=>JSON.parse(JSON.stringify(t));class s{constructor(t){this._updateEvent=new o,this._state=t}init(t){this._state=this._call(t)}_call(t,...e){return t(r(this._state),...e)}getter(t){return function(...e){return this._call(t,...e)}.bind(this)}setter(t,e){return function(...n){this._state=this._call(t,...n),this._updateEvent.trigger(e)}.bind(this)}onupdate(t){this._updateEvent.on(t)}}e.exports=s},{"./Event":7}],9:[function(t,e,n){function o(t,e){return function(n){const o=n.data[t];return n.data[t]=function(t,n){o&&o(t),e(t,n)},n}}function r(t,e,n){return e?r(o=>({name:t,time:e,delay:n})):"function"!=typeof t?r(e=>t):o("oncreate",function(e){const{name:n,time:o,delay:r}=t(),s=n+"-enter",a=n+"-run";e.classList.add(s),setTimeout(t=>{e.classList.add(a),e.classList.remove(s),setTimeout(t=>{e.classList.remove(a)},o)},r||0)})}function s(t,e,n){return e?s(o=>({name:t,time:e,delay:n})):"function"!=typeof t?s(e=>t):o("onremove",function(e,n){const{name:o,time:r,delay:s}=t(),a=o+"-leave",i=o+"-run";setTimeout(t=>{e.classList.add(i),e.classList.add(a),setTimeout(function(){e.classList.remove(i),n()},r)},s||0)})}function a(t){return"function"!=typeof t?a(e=>t):function(e){const n=t();return e.data.class+=" "+n+"-run",e}}e.exports={enter:r,leave:s,both:function(t,e,n){const o=r(t,e,n),a=s(t,e,n);return t=>o(a(t))},change:a}},{}],10:[function(t,e,n){const o=t("zx-app-utils/dom/h"),r={chevron:o("svg",{width:"100%",height:"100%",viewBox:"-10 -20 20 40",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("path",{d:"M -7 -17 L 7 0 L -7 17","stroke-linecap":"butt","stroke-width":"3"}),"\n    "]),noFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n    "]),veryHappyFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("line",{x1:"-18",y1:"-10",x2:"-8",y2:"-18","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("line",{x1:"18",y1:"-10",x2:"8",y2:"-18","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("path",{d:"M -18 10 C -15 25 15 25 18 10","stroke-linecap":"round",fill:"transparent","stroke-width":"5"}),"\n    "]),happyFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"-15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("path",{d:"M -15 15 C 0 20 0 20 15 15","stroke-linecap":"round","stroke-width":"5"}),"\n    "]),uncertainFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"-15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("line",{x1:"-10",x2:"10",y1:"18",y2:"18","stroke-linecap":"round","stroke-width":"5"}),"\n    "]),unhappyFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"-15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("path",{d:"M -15 15 C 0 10 0 10 15 15","stroke-linecap":"round","stroke-width":"5"}),"\n    "]),veryUnhappyFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("line",{x1:"-15",y1:"-7",x2:"-8",y2:"-15","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("line",{x1:"-8",y1:"-15",x2:"-15",y2:"-18","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("line",{x1:"15",y1:"-7",x2:"8",y2:"-15","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("line",{x1:"8",y1:"-15",x2:"15",y2:"-18","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("path",{d:"M -18 20 C -15 5 15 5 18 20","stroke-linecap":"round",fill:"transparent","stroke-width":"5"}),"\n    "])};e.exports=(({name:t,effect:e})=>o("div",{className:"icon "+e},[r[t]]))},{"zx-app-utils/dom/h":3}],11:[function(t,e,n){const o=t("zx-app-utils/dom/h"),r=t("./icon"),s=({page:t})=>o("div",{className:"app-container"},[t()]),a=(t,e)=>o("div",{className:"panel"},[e]),i=({cls:t,active:e,activate:n},r)=>o("button",{ontouchstart:n,onmousedown:n,className:t+" "+(e?"active":"")},["\n        ",r,"\n    "]),c=({direction:t})=>r({name:"chevron",effect:"back"===t?"hflip":""});e.exports={AppContainer:s,Panel:a,Button:i,Chevron:c}},{"./icon":10,"zx-app-utils/dom/h":3}],12:[function(t,e,n){const o=t("zx-app-utils/dom/h"),{go:r,directionTo:s}=t("../model/navigation"),{Button:a,Chevron:i}=t("./misc");e.exports=(({target:t,text:e,extra:n,onGo:c})=>{const p=s(t);return a({cls:`nav-button ${p}`,activate:e=>{e.currentTarget.classList.add("active"),r(t),c&&c()}},[i({direction:p}),o("p",{className:"button-text-extra"},[n]),o("p",{className:"button-text-main"},[e])])})},{"../model/navigation":17,"./misc":11,"zx-app-utils/dom/h":3}],13:[function(t,e,n){const o=t("zx-app-utils/dom/h"),r=t("zx-app-utils/transition"),{direction:s}=t("../model/navigation"),a=t("./navbutton"),i=r.both(t=>({name:"slide-"+s(),time:350}));e.exports=(({name:t,target:e,text:n,extra:r,onGo:s},c)=>i(o("div",{key:t,class:"page"},[].concat(c,a({target:e,text:n,extra:r,onGo:s})))))},{"../model/navigation":17,"./navbutton":12,"zx-app-utils/dom/h":3,"zx-app-utils/transition":9}],14:[function(t,e,n){const o=t("zx-app-utils/dom/h"),{result:r}=t("../model/votes");e.exports=(t=>o("p",{class:"result-display"},[r()||""]))},{"../model/votes":19,"zx-app-utils/dom/h":3}],15:[function(t,e,n){const o=t("zx-app-utils/dom/h"),{set:r,get:s}=t("../model/votes"),a=t("./icon"),i=[{value:0,icon:"noFace",label:"No Vote",extra:"I don't want to participate."},{value:5,icon:"veryHappyFace",label:"Very Happy",extra:"It should always be this way!"},{value:4,icon:"happyFace",label:"Happy",extra:"It can always get better!"},{value:3,icon:"uncertainFace",label:"Don't know",extra:"Meh... / Mixed feelings"},{value:2,icon:"unhappyFace",label:"Unhappy",extra:"A lot needs to change!"},{value:1,icon:"veryUnhappyFace",label:"Very Unhappy",extra:"Why even bother..."}];e.exports=(t=>o("ul",{className:"option-selector"},["\n    ",i.map(({value:t,icon:e,label:n,extra:i})=>o("li",{onmousedown:e=>r(t),ontouchstart:e=>r(t),className:t===s()?"active":""},["\n        ",a({name:e}),"\n        ",o("p",{className:"label"},[n]),"\n        ",o("p",{className:"extra"},[i]),"\n    "])),"\n"]))},{"../model/votes":19,"./icon":10,"zx-app-utils/dom/h":3}],16:[function(t,e,n){const o=t("zx-app-utils/app/main"),r=t("./model/store"),{page:s}=t("./model/navigation"),{AppContainer:a}=t("./components/misc"),i={initial:t("./pages/initial"),start:t("./pages/start"),vote:t("./pages/vote"),pass:t("./pages/pass"),result:t("./pages/result"),reset:t("./pages/reset")};o({store:r,view:t=>a({page:i[s()]})})},{"./components/misc":11,"./model/navigation":17,"./model/store":18,"./pages/initial":20,"./pages/pass":21,"./pages/reset":22,"./pages/result":23,"./pages/start":24,"./pages/vote":25,"zx-app-utils/app/main":2}],17:[function(t,e,n){function o(t,e){return"reset"===t&&"start"===e?"back":"pass"===t&&"vote"===e?"back":"forward"}const r=t("./store");r.init(t=>Object.assign(t,{navigation:{current:"initial",previous:null}})),e.exports={direction:r.getter(t=>o(t.navigation.previous,t.navigation.current)),directionTo:r.getter((t,e)=>o(t.navigation.current,e)),page:r.getter(t=>t.navigation.current),go:r.setter((t,e)=>(t.navigation.previous=t.navigation.current,t.navigation.current=e,t))}},{"./store":18}],18:[function(t,e,n){const o=t("zx-app-utils/store");e.exports=new o({})},{"zx-app-utils/store":8}],19:[function(t,e,n){const o=t("./store"),r={votes:{current:0,sum:0,count:0}};o.init(t=>Object.assign(t,r)),e.exports={get:o.getter(t=>t.votes.current),set:o.setter((t,e)=>(t.votes.current=e,t)),commit:o.setter((t,e)=>(t.votes.sum=t.votes.sum+t.votes.current,t.votes.count=t.votes.count+1,t.votes.current=0,t)),result:o.getter(t=>0===t.votes.count?0:Math.round(10*t.votes.sum/t.votes.count)/10),reset:o.setter(t=>Object.assign(t,r))}},{"./store":18}],20:[function(t,e,n){const{Panel:o}=t("../components/misc"),r=t("../components/page");e.exports=(t=>r({name:"initial",target:"start",extra:"Tap here to...",text:"Start"},[o({},["Happiness Index Calculator"])]))},{"../components/misc":11,"../components/page":13}],21:[function(t,e,n){const{Panel:o}=t("../components/misc"),r=t("../components/navbutton"),s=t("../components/page");e.exports=(t=>s({name:"pass",target:"vote",extra:"Are you the next person? Tap here to...",text:"Vote"},[r({target:"result",extra:"Has everyone voted? Tap here to...",text:"Check Result"}),o({},["Thank you! Now, please hand the phone to the next person."])]))},{"../components/misc":11,"../components/navbutton":12,"../components/page":13}],22:[function(t,e,n){const{Panel:o}=t("../components/misc"),r=t("../components/result"),s=t("../components/page");e.exports=(t=>s({name:"reset",target:"start",extra:"Tap here to...",text:"Start again"},[o({},["Votes cleared from memory",r()])]))},{"../components/misc":11,"../components/page":13,"../components/result":14}],23:[function(t,e,n){const{reset:o}=t("../model/votes"),r=t("../components/result"),s=t("../components/page"),{Panel:a}=t("../components/misc");e.exports=(t=>s({name:"result",target:"reset",extra:"Need to do it again? Tap here to...",text:"Reset Votes",onGo:o},[a({},["Happiness Index",r()])]))},{"../components/misc":11,"../components/page":13,"../components/result":14,"../model/votes":19}],24:[function(t,e,n){const o=t("../components/page"),{Panel:r}=t("../components/misc");e.exports=(t=>o({name:"start",target:"vote",extra:"When you're ready, tap here to...",text:"Vote"},[r({},["Please hand the phone to the first person to vote."])]))},{"../components/misc":11,"../components/page":13}],25:[function(t,e,n){const o=t("../components/voter"),{Panel:r}=t("../components/misc"),s=t("../components/page"),{commit:a}=t("../model/votes");e.exports=(t=>s({name:"vote",target:"pass",extra:"Make your selection, then tap here to...",text:"Cast Vote",onGo:a},[r({},["How happy are you about your job?"]),o()]))},{"../components/misc":11,"../components/page":13,"../components/voter":15,"../model/votes":19}]},{},[16]);
