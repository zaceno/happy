!function t(e,n,o){function r(i,c){if(!n[i]){if(!e[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(a)return a(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var l=n[i]={exports:{}};e[i][0].call(l.exports,function(t){var n=e[i][1][t];return r(n||t)},l,l.exports,t,e,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(t,e,n){!function(t,o){"object"==typeof n&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o(t.hyperapp=t.hyperapp||{})}(this,function(t){"use strict";t.h=function(t,e){for(var n,o=[],r=[],a=arguments.length;a-- >2;)o[o.length]=arguments[a];for(;o.length;)if(Array.isArray(n=o.pop()))for(a=n.length;a--;)o[o.length]=n[a];else null!=n&&!0!==n&&!1!==n&&("number"==typeof n&&(n+=""),r[r.length]=n);return"string"==typeof t?{tag:t,data:e||{},children:r}:t(e,r)},t.app=function(t){function e(t,n,i){Object.keys(n||[]).map(function(c){var s=n[c],p=i?i+"."+c:c;"function"==typeof s?t[c]=function(t){var e=s(f,g,o("action",{name:p,data:t}).data,o);if(null==e||"function"==typeof e.then)return e;r(f=a(f,o("update",e)),v)}:e(t[c]||(t[c]={}),s,p)})}function n(){r(f,v),o("loaded")}function o(t,e){return(m[t]||[]).map(function(t){var n=t(f,g,e,o);null!=n&&(e=n)}),e}function r(e,n){h=u(t.root||(t.root=document.body),h,d,d=o("render",n)(e,g))}function a(t,e){var n={};if("object"!=typeof e||Array.isArray(e))return e;for(var o in t)n[o]=t[o];for(var o in e)n[o]=e[o];return n}function i(t,e){if("string"==typeof t)n=document.createTextNode(t);else{for(var n=(e=e||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag),o=0;o<t.children.length;)n.appendChild(i(t.children[o++],e));for(var o in t.data)"oncreate"===o?t.data[o](n):c(n,o,t.data[o])}return n}function c(t,e,n,o){if("key"===e);else if("style"===e)for(var r in a(o,n=n||{}))t.style[r]=n[r]||"";else{try{t[e]=n}catch(t){}"function"!=typeof n&&(n?t.setAttribute(e,n):t.removeAttribute(e))}}function s(t,e,n){for(var o in a(e,n)){var r=n[o],i="value"===o||"checked"===o?t[o]:e[o];"onupdate"===o&&r?r(t):r!==i&&c(t,o,r,i)}}function p(t){if(t&&(t=t.data))return t.key}function l(t,e,n){function o(){t.removeChild(e)}(n.data&&n.data.onremove||o)(e,o)}function u(t,e,n,o){if(null==n)e=t.insertBefore(i(o),e);else if(o.tag&&o.tag===n.tag){s(e,n.data,o.data);for(var r=o.children.length,a=n.children.length,c={},d=[],h={},f=0;f<a;f++)g=e.childNodes[f],d[f]=g,null!=(k=p(m=n.children[f]))&&(c[k]=[g,m]);for(var f=0,v=0;v<r;){var g=d[f],m=n.children[f],x=o.children[v];if(h[k=p(m)])f++;else{var y=p(x),w=c[y]||[];null==y?(null==k&&(u(e,g,m,x),v++),f++):(k===y?(u(e,w[0],w[1],x),f++):w[0]?(e.insertBefore(w[0],g),u(e,w[0],w[1],x)):u(e,g,null,x),v++,h[y]=x)}}for(;f<a;){var k=p(m=n.children[f]);null==k&&l(e,d[f],m),f++}for(var f in c){var b=(w=c[f])[1];h[b.data.key]||l(e,w[0],b)}}else o!==n&&(f=e,t.replaceChild(e=i(o),f));return e}for(var d,h,f={},v=t.view,g={},m={},x=-1,y=t.mixins||[];x<y.length;x++){var w=y[x]?y[x](t):t;null!=w.mixins&&w!==t&&(y=y.concat(w.mixins)),null!=w.state&&(f=a(f,w.state)),e(g,w.actions),Object.keys(w.events||[]).map(function(t){m[t]=(m[t]||[]).concat(w.events[t])})}"l"!==document.readyState[0]?n():addEventListener("DOMContentLoaded",n)},t.Router=function(t,e){function n(n){for(var o,r={},a=0,i=t.view.length;a<i;a++){var c=t.view[a][0],s=[];o||n.replace(RegExp("*"===c?"."+c:"^"+c.replace(/\//g,"\\/").replace(/:([\w]+)/g,function(t,e){return s.push(e),"([-\\.\\w]+)"})+"/?$","g"),function(){for(var n=1;n<arguments.length-2;)r[s.shift()]=arguments[n++];o=c,e=t.view[a][1]})}return{match:o,params:r}}return{state:{router:n(location.pathname)},actions:{router:{match:function(t,e,o,r){return{router:r("route",n(o))}},go:function(t,e,n){history.pushState({},"",n),e.router.match(n.split("?")[0])}}},events:{loaded:function(t,e){function n(){e.router.match(location.pathname)}n(),addEventListener("popstate",n)},render:function(){return e}}}}})},{}],2:[function(t,e,n){e.exports=((t,e)=>({tag:"div",data:{class:"app-container"},children:e}))},{}],3:[function(t,e,n){e.exports=(({cls:t,action:e},n)=>{const o=t=>{t.preventDefault(!0),t.currentTarget.classList.add("active"),e()};return{tag:"button",data:{class:t,ontouchstart:o,onmousedown:o},children:n}})},{}],4:[function(t,e,n){const o=t("./icon");e.exports=(({direction:t})=>o({name:"chevron",effect:"back"===t?"hflip":""}))},{"./icon":5}],5:[function(t,e,n){const{h:o}=t("hyperapp"),r={chevron:o("svg",{width:"100%",height:"100%",viewBox:"-10 -20 20 40",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("path",{d:"M -7 -17 L 7 0 L -7 17","stroke-linecap":"butt","stroke-width":"3"}),"\n    "]),noFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n    "]),veryHappyFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("line",{x1:"-18",y1:"-10",x2:"-8",y2:"-18","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("line",{x1:"18",y1:"-10",x2:"8",y2:"-18","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("path",{d:"M -18 10 C -15 25 15 25 18 10","stroke-linecap":"round",fill:"transparent","stroke-width":"5"}),"\n    "]),happyFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"-15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("path",{d:"M -15 15 C 0 20 0 20 15 15","stroke-linecap":"round","stroke-width":"5"}),"\n    "]),uncertainFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"-15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("line",{x1:"-10",x2:"10",y1:"18",y2:"18","stroke-linecap":"round","stroke-width":"5"}),"\n    "]),unhappyFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"-15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("circle",{cx:"15",cy:"-8",r:"2",fill:"transparent","stroke-width":"5"}),"\n        ",o("path",{d:"M -15 15 C 0 10 0 10 15 15","stroke-linecap":"round","stroke-width":"5"}),"\n    "]),veryUnhappyFace:o("svg",{width:"100%",height:"100%",viewBox:"-50 -50 100 100",xmlns:"http://www.w3.org/2000/svg"},["\n        ",o("circle",{cx:"0",cy:"0",r:"40",fill:"transparent","stroke-width":"5"}),"\n        ",o("line",{x1:"-15",y1:"-7",x2:"-8",y2:"-15","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("line",{x1:"-8",y1:"-15",x2:"-15",y2:"-18","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("line",{x1:"15",y1:"-7",x2:"8",y2:"-15","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("line",{x1:"8",y1:"-15",x2:"15",y2:"-18","stroke-linecap":"round","stroke-width":"5"}),"\n        ",o("path",{d:"M -18 20 C -15 5 15 5 18 20","stroke-linecap":"round",fill:"transparent","stroke-width":"5"}),"\n    "])};e.exports=(({name:t,effect:e})=>o("div",{className:"icon "+e},[r[t]]))},{hyperapp:1}],6:[function(t,e,n){const{h:o}=t("hyperapp"),r=t("./button"),a=t("./chevron");e.exports=(({goTo:t,target:e,direction:n,text:i,extra:c})=>r({cls:`nav-button ${n}`,action:o=>t([e,n])},[a({direction:n}),o("p",{className:"button-text-extra"},[c]),o("p",{className:"button-text-main"},[i])]))},{"./button":3,"./chevron":4,hyperapp:1}],7:[function(t,e,n){const o=t("./navbutton"),r=t("../transitions"),a={direction:null};e.exports=(({name:t,direction:e,next:n},i)=>(a.direction=e,r.both(t=>({name:"slide-"+a.direction,time:300}))({tag:"div",data:{class:"page",key:t},children:[].concat(i,o(n))})))},{"../transitions":19,"./navbutton":6}],8:[function(t,e,n){e.exports=((t,e)=>({tag:"div",data:{class:"panel"},children:e}))},{}],9:[function(t,e,n){const o=({sum:t,count:e})=>0===e?"":""+Math.round(10*t/e)/10;e.exports=(t=>({tag:"p",data:{class:"result-display"},children:[o(t)]}))},{}],10:[function(t,e,n){const{h:o}=t("hyperapp"),r=t("./icon"),a=[{value:0,icon:"noFace",label:"No Vote",extra:"I don't want to participate."},{value:5,icon:"veryHappyFace",label:"Very Happy",extra:"It should always be this way!"},{value:4,icon:"happyFace",label:"Happy",extra:"It can always get better!"},{value:3,icon:"uncertainFace",label:"Don't know",extra:"Meh... / Mixed feelings"},{value:2,icon:"unhappyFace",label:"Unhappy",extra:"A lot needs to change!"},{value:1,icon:"veryUnhappyFace",label:"Very Unhappy",extra:"Why even bother..."}];e.exports=(({value:t,set:e})=>o("ul",{className:"option-selector"},["\n    ",a.map(({value:n,icon:a,label:i,extra:c})=>o("li",{onmousedown:t=>e(n),ontouchstart:t=>e(n),className:n===t?"active":""},["\n        ",r({name:a}),"\n        ",o("p",{className:"label"},[i]),"\n        ",o("p",{className:"extra"},[c]),"\n    "])),"\n"]))},{"./icon":5,hyperapp:1}],11:[function(t,e,n){const{app:o}=t("hyperapp"),r=t("./components/app-container"),a=t("./pages");o({state:{votes:{current:0,sum:0,count:0},page:{current:"initial",previous:null}},actions:{goTo(t,e,[n,o],r){return r("goTo:"+n),t.page={current:n,direction:o},t},votes:{set(t,e,n){return t.votes.current=n,t},commit(t){return 0===t.votes.current?t:(t.votes.sum=t.votes.sum+t.votes.current,t.votes.count=t.votes.count+1,t.votes.current=0,t)},reset(t){return t.votes.sum=0,t.votes.count=0,t.votes.current=0,t}}},events:{"goTo:reset":(t,e)=>setTimeout(e.votes.reset,0),"goTo:pass":(t,e)=>setTimeout(e.votes.commit,0)},view:(t,e)=>r({},[a[t.page.current](t,e)])})},{"./components/app-container":2,"./pages":12,hyperapp:1}],12:[function(t,e,n){const o={initial:t("./initial"),start:t("./start"),vote:t("./vote"),pass:t("./pass"),result:t("./result"),reset:t("./reset")};e.exports=o},{"./initial":13,"./pass":14,"./reset":15,"./result":16,"./start":17,"./vote":18}],13:[function(t,e,n){const o=t("../components/panel"),r=t("../components/page");e.exports=((t,e)=>r({name:"initial",direction:t.page.direction,next:{goTo:e.goTo,target:"start",direction:"forward",extra:"Tap here to...",text:"Start"}},[o({},["Happiness Index Calculator"])]))},{"../components/page":7,"../components/panel":8}],14:[function(t,e,n){const o=t("../components/panel"),r=t("../components/navbutton"),a=t("../components/page");e.exports=((t,e)=>a({name:"pass",direction:t.page.direction,next:{goTo:e.goTo,target:"vote",direction:"back",extra:"Are you the next person? Tap here to...",text:"Vote"}},[r({goTo:e.goTo,target:"result",direction:"forward",extra:"Has everyone voted? Tap here to...",text:"Check Result"}),o({},["Thank you! Now, please hand the phone to the next person."])]))},{"../components/navbutton":6,"../components/page":7,"../components/panel":8}],15:[function(t,e,n){const o=t("../components/panel"),r=t("../components/result"),a=t("../components/page");e.exports=((t,e)=>a({name:"reset",direction:t.page.direction,next:{goTo:e.goTo,target:"start",direction:"back",extra:"Tap here to...",text:"Start again"}},[o({},["Votes cleared from memory",r(t.votes)])]))},{"../components/page":7,"../components/panel":8,"../components/result":9}],16:[function(t,e,n){const o=t("../components/result"),r=t("../components/page"),a=t("../components/panel");e.exports=((t,e)=>r({name:"result",direction:t.page.direction,next:{goTo:e.goTo,target:"reset",direction:"forward",extra:"Need to do it again? Tap here to...",text:"Reset Votes"}},[a({},["Happiness Index",o(t.votes)])]))},{"../components/page":7,"../components/panel":8,"../components/result":9}],17:[function(t,e,n){const o=t("../components/page"),r=t("../components/panel");e.exports=((t,e)=>o({name:"start",direction:t.page.direction,next:{goTo:e.goTo,target:"vote",direction:"forward",extra:"When you're ready, tap here to...",text:"Vote"}},[r({},["Please hand the phone to the first person to vote."])]))},{"../components/page":7,"../components/panel":8}],18:[function(t,e,n){const o=t("../components/voter"),r=t("../components/panel"),a=t("../components/page");e.exports=((t,e)=>a({name:"vote",direction:t.page.direction,next:{goTo:e.goTo,target:"pass",direction:"forward",extra:"Make your selection, then tap here to...",text:"Cast Vote"}},[r({},["How happy are you about your job?"]),o({value:t.votes.current,set:e.votes.set})]))},{"../components/page":7,"../components/panel":8,"../components/voter":10}],19:[function(t,e,n){function o(t,e){return function(n){const o=n.data[t];return n.data[t]=function(t,n){o&&o(t),e(t,n)},n}}function r(t,e,n){return e?r(o=>({name:t,time:e,delay:n})):"function"!=typeof t?r(e=>t):o("oncreate",function(e){const{name:n,time:o,delay:r}=t(),a=n+"-enter",i=n+"-run";e.classList.add(a),setTimeout(t=>{e.classList.add(i),e.classList.remove(a),setTimeout(t=>{e.classList.remove(i)},o)},r||0)})}function a(t,e,n){return e?a(o=>({name:t,time:e,delay:n})):"function"!=typeof t?a(e=>t):o("onremove",function(e,n){const{name:o,time:r,delay:a}=t(),i=o+"-leave",c=o+"-run";setTimeout(t=>{e.classList.add(c),e.classList.add(i),setTimeout(function(){e.classList.remove(c),n()},r)},a||0)})}function i(t){return"function"!=typeof t?i(e=>t):function(e){const n=t();return e.data.class+=" "+n+"-run",e}}e.exports={enter:r,leave:a,both:function(t,e,n){const o=r(t,e,n),i=a(t,e,n);return t=>o(i(t))},change:i}},{}]},{},[11]);
